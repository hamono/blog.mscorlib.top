# 递归和分治

## 递归

递回（英语：recursion）在电脑科学中是指一种通过重复将问题分解为同类的子问题而解决问题的方法。  
递回式方法可以被用于解决很多的电脑科学问题，因此它是电脑科学中十分重要的一个概念。  
绝大多数程式语言支援函式的自呼叫，在这些语言中函式可以通过呼叫自身来进行递回。  
计算理论可以证明递回的作用可以完全取代回圈，因此有很多在函数程式语言（如Scheme）中用递归来取代循环的例子。

电脑科学家尼克劳斯·维尔特如此描述递回：
> 递回的强大之处在于它允许使用者用有限的语句描述无限的物件。因此，在电脑科学中，递回可以被用来描述无限步的运算，尽管描述运算的程式是有限的。

### 递归能够解决的问题

1. 数据的定义是按递归定义的。如[Fibonacci函数](https://blog.mscorlib.top/blog/%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97)。
2. 问题解法按递归算法实现。如Hanoi问题。
3. 数据的结构形式是按递归定义的。如二叉树、广义表等。

## 分治

在计算机科学中，分治法是建基于多项分支递归的一种很重要的算法范式。字面上的解释是“分而治之”，就是把一个复杂的问题分成两个或更多的相同或相似的子问题，直到最后子问题可以简单的直接求解，原问题的解即子问题的解的合并。

这个技巧是很多高效算法的基础，如排序算法（[快速排序](https://blog.mscorlib.top/blog/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F)、
[归并排序](https://blog.mscorlib.top/blog/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F)）、傅立叶变换（快速傅立叶变换）。

另一方面，理解及设计分治法算法的能力需要一定时间去掌握。正如以归纳法去证明一个理论，为了使递归能够推行，很多时候需要用一个较为概括或复杂的问题去取代原有问题。而且并没有一个系统性的方法去适当地概括问题。

分治法这个名称有时亦会用于将问题简化为只有一个细问题的算法，例如用于在已排序的列中寻找其中一项的折半搜索算法（或是在数值分析中类似的勘根算法）。这些算法比一般的分治算法更能有效地执行。其中，假如算法使用尾部递归的话，便能转换成简单的回圈。但在这广义之下，所有使用递归或回圈的算法均被视作“分治算法”。因此，有些作者考虑“分治法”这个名称应只用于每个有最少两个子问题的算法。而只有一个子问题的曾被建议使用减治法这个名称。

分治算法通常以数学归纳法来验证。而它的计算成本则多数以解递回关系式来判定。

### 分治的优势

- 解决困难问题: 
分治算法是一个解决复杂问题的好工具，它可以把问题分解成若干个子问题，把子问题逐个解决，再组合到一起形成大问题的答案。比如，汉诺塔问题如果采用分治算法，可以把高度为n的塔的问题转换成高度为n-1的塔来解决，如此重复，直至问题化简到可以很容易的处理为止。
- 算法效率: 
人们发现有很多效率很高的分治算法，比如，Karatsuba快速乘法算法、[快速排序](https://blog.mscorlib.top/blog/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F)算法和并行算法、矩阵乘法的施特拉森演算法、快速傅里叶变换等。
- 同步性
- 内存存取
- 修正控制

### 分治的实现

在每一层递归上都有三个步骤：

1. **分解：** 将原问题分解为若干个规模较小，相对独立，与原问题形式相同的子问题。
2. **解决：** 若子问题规模较小且易于解决时，则直接解。否则，递归地解决各子问题。
3. **合并：** 将各子问题的解合并为原问题的解。

## 递归和分治能解决的算法

- 二分搜索技术
- 大整数乘法
- strassen矩阵乘法
- 棋盘覆盖
- [合并排序](https://blog.mscorlib.top/blog/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F)
- [快速排序](https://blog.mscorlib.top/blog/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F)
- 线性时间选择
- 最接近点对点问题
- 循环赛日程表