# 快速排序

快速排序（英语：Quicksort），又称划分交换排序（partition-exchange sort），简称快排，一种排序算法，最早由东尼·霍尔提出。在平均状况下，排序*n*个项目要`O(nlog n)`（大O符号）次比较。在最坏状况下则需要 `O(n^2)`次比较，但这种状况并不常见。事实上，快速排序通常明显比其他演算法更快，因为它的内部循环（inner loop）可以在大部分的架构上很有效率地达成。

## 复杂度分析

| | 时间复杂度 | 空间复杂度 |
|---|---|---|
| 最好情况 | O(n) | O(lgn) |
| 平均情况 | O(nlgn) | O(lgn) |
| 最坏情况 | O(n^2) | O(n) |

## 原理图

![快速排序原理图](https:////upload.wikimedia.org/wikipedia/commons/6/6a/Sorting_quicksort_anim.gif)

## 代码实现

typescript:  
```typescript
const quickSort = <T>(array: T[]): T[] => {
  const { length } = array;
  if (length < 2) {
    return array;
  }
  const [basic, ...newArray] = array;
  const left: T[] = [];
  const right: T[] = [];
  for (const item of newArray) {
    (item < basic ? left : right).push(item);
  }
  return [...quickSort(left), basic, ...quickSort(right)];
}
```
编译之后的javascript:
```javascript
var quickSort = function (array) {
    var length = array.length;
    if (length < 2) {
        return array;
    }
    var basic = array[0], newArray = array.slice(1);
    var left = [];
    var right = [];
    for (var _i = 0, newArray_1 = newArray; _i < newArray_1.length; _i++) {
        var item = newArray_1[_i];
        (item < basic ? left : right).push(item);
    }
    return quickSort(left).concat([basic], quickSort(right));
};
```
测试:  
```
quickSort([5, 3, 7, 4, 1, 9, 8, 6, 2]);
```
结果:
```
[ 1, 2, 3, 4, 5, 6, 7, 8, 9 ]
```