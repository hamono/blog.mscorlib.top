# 2019.8.10

## 博客支持 emoji

我的博客支持 github 风格的 emoji 啦:clap:, 虽然想弱弱的问一句: 这种写法是 markdown 标准吗?:joy:

我想实现那种当图片没有载出来时先显示文字的效果, 有人说, img alt attribute 了解一下, 可是这样的话, 效果如下:

![效果](lalala.jpg)

1. 左边多了个丑不拉擦的小图片
2. 这个小图片和文字居然没有对齐

强迫症不能忍啊

于是我写了一个简陋的发布订阅模式, 当图片未加载出来时, 组件把自己的刷新函数加入 `subscriptions`, 当请求结果返回时, 触发其中的每个函数, 使组件更新

~~其实也没有完美的解决问题, 第一次打开可能会出现一半变成了图片, 一半还是文字的薛定谔的状态:joy:, 这时候关闭 `disable cache`, 然后刷新下应该就 OK 了~~

然而我发现, 这个图片大小居然不是默认和周围文字一样, 导致看的特别违和

我想到了 [antd](https://ant.design) 的 `Icon`, 底层实现是 `svg`, 自动继承了父元素的 `font-size`~~, 虽然我这个菜鸡并不知道是 `svg` 的行为还是 antd hack 的结果:joy:~~

anyway, 我写了个逻辑, 当需要显示图片时, 调用 `getComputedStyle` 获取自身的 `font-size`, 然后把自身的宽高设为这个值

~~垃圾 `HTMLElement.prototype.style`, 获取到的值居然不包含继承或计算后的结果~~

这里就看出 react hook 的优势了, 上面这两个复杂逻辑, 一个 `React.useEffect` 全部解决

又发现了一个问题, emoji 感觉总比周围文字低一点, 看的特别别扭, 于是, 自认为精通 css3 的我写下了 `transform: translateY(-2px);`, 然后果然看起来好多了, 但是一选择的话, 选择的区域就会上下不平:joy:, 然后咧, 最终解决方案是 `vertical-align: text-bottom;`, 虽然还是感觉低了 1px, 不过暂时也找不到更优的解法了

下一个问题: 我以前 delete 的实现是:

```scss
.del {
  text-decoration: none;
  background-color: $text-color;
  color: transparent;
  transition: 0.3s;
  &:hover {
    color: $text-color;
    background-color: transparent;
  }
}
```

请问这和 emoji 配合会出现怎样的问题? 如何解?

~~我为了实现上面的 scss 代码高亮, 又滚回去写了会代码...~~

## 人渣的本愿

最近看完了[人渣的本愿](https://www.youtube.com/playlist?list=PL8HRMqZwDdyIbN-7G6NvlPNvkSNK-gyBu)

本来我是在国内某网站看的, 结果实在卡的受不了, 就跑油管上看了

为什么我会去看这片呢?

1. 探寻什么是*爱*
2. 听说这是半部黄漫:smirk:

然而这两个目的都没有达到:upside_down_face:, 这片对我最大的贡献就是催眠, 睡前看一集, 保证快速入睡与睡眠质量:rofl:

虽然有几天连这个目的都没有达到, 是因为觉得太无聊了, 就开个纤程(fiber)刷起了知乎, 然后就停不下来了:rofl:

因为相当于没有看这片, 所以我也没什么评价和评分好说

## 感想

2019.8.5, 我参加了第一次转正答辩, 感受就是你们输入法输入*答辩*的拼音, 出来的那个 emoji 一样, 在这里就不恶心读者了:smile:

总之, 负责此次答辩的 p9 主管对我很不满意, 他说:

1. 没有发现问题的本质, 欠缺自己有深度的思考
2. 没有技术亮点, 没有能吹牛逼的项目

另外, 他建议我养成下面两种思维模式:

1. **总 -> 分 -> 总**: 先看整体架构, 在这么多工作里, 自己主要负责了哪一块, 这块对于整体的意义是什么?
2. **问题 -> 方法 -> 规划/结果**: 首先要想明白问题是什么, 如果想不清楚问题就盲目动手, 很有可能是南辕北辙~~, 虽然实际中多半是先动手再想怎么和领导吹我解决了什么问题:rofl:~~

总之感觉他还是很 nice 的, 至少帮忙分析问题, 提出方案, 我觉得他说的也挺有道理的, 所以本文的第一个二级标题就强行按照这种思维模式写, 虽然感觉写的并不好:smile:

他给我指了一条路, 让我去做他认为有技术亮点的那个项目, 我当时瑟瑟发抖: 只有两周了, 我能做完吗, 做不完就凉了啊, 主管说:“**要对自己有信心**”

然后 2019.8.8, 他找到我说:“我还是有点慌, 要不我们就实现个简单点的吧”, 我:“然而我已经做了一半了”, 他:“那你能在规定时间内做完吗?”, 我:“**要对自己有信心**”

现在, 我已经差不多做完了, 剩下就是最后的收尾工作了, 我真是太优秀了:smile:
